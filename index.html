<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MATH TRAP MATRIX</title>
    <style>
        body {
            font-family: 'Verdana', sans-serif;
            background: linear-gradient(45deg, #000, #1a1a1a);
            color: #0ff;
            margin: 0;
            padding: 20px;
            text-align: center;
            user-select: none;
            overflow: hidden;
            cursor: crosshair;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border: 3px solid #0ff;
            box-shadow: 0 0 20px #0ff;
        }
        h1 {
            font-size: 2.2em;
            letter-spacing: 2px;
            animation: glitch 0.3s infinite;
        }
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-5px, 5px); }
            40% { transform: translate(5px, -5px); }
            60% { transform: translate(-5px, 0); }
            80% { transform: translate(5px, 5px); }
            100% { transform: translate(0); }
        }
        .puzzle {
            font-size: 1.6em;
            margin: 15px;
            padding: 15px;
            background: #111;
            border: 2px dashed #0ff;
            transition: transform 0.2s;
        }
        .puzzle:hover {
            transform: scale(1.05);
        }
        input, button {
            font-family: 'Verdana', sans-serif;
            font-size: 1.3em;
            margin: 10px;
            padding: 12px;
            background: #000;
            color: #0ff;
            border: 2px solid #0ff;
            transition: all 0.2s;
        }
        button:hover {
            background: #0ff;
            color: #000;
            transform: rotate(5deg);
        }
        input:focus {
            outline: none;
            box-shadow: 0 0 10px #0ff;
        }
        .trap {
            position: absolute;
            font-size: 1.4em;
            color: #f00;
            text-shadow: 0 0 5px #f00;
            pointer-events: none;
            animation: float 2s infinite;
        }
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0); }
        }
        #status {
            font-size: 1.2em;
            color: #f00;
            margin: 10px;
        }
        #counter {
            font-size: 1.5em;
            color: #ff0;
            position: fixed;
            top: 10px;
            right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="title">TRAPPED IN THE MATH MATRIX!</h1>
        <p id="counter">Attempts: 0</p>
        <div id="puzzle" class="puzzle">1 + 1 = ?</div>
        <input type="text" id="answerInput" placeholder="Enter your answer">
        <button id="submitBtn" onclick="submitTrap()">Submit</button>
        <button id="resetBtn" onclick="resetTrap()">Reset Puzzle</button>
        <p id="status">Solve to escape... or try.</p>
    </div>
    <audio id="annoyingSound" loop>
        <source src="https://www.myinstants.com/media/sounds/windows-xp-error.mp3" type="audio/mpeg">
    </audio>
    <script>
        let trapLevel = 0;
        let attempts = 0;
        const puzzles = [
            { q: "1 + 1 = ?", a: "11", trick: "It’s a string, not a sum!" },
            { q: "x + x = 2x. If x = 5, what is x + x?", a: "10", trick: "Did you overthink it? It’s just 5 + 5!" },
            { q: "∫(0 to 1) 1 dx = ?", a: "1", trick: "Basic integral, but did you expect a trap?" },
            { q: "(2 * 3) mod 5 = ?", a: "1", trick: "Modulo math! 6 mod 5 = 1." },
            { q: "sin(π) = ?", a: "0", trick: "Trig is cruel, isn’t it?" }
        ];
        let currentPuzzle = 0;

        // Update attempt counter
        function updateCounter() {
            attempts++;
            document.getElementById("counter").innerText = `Attempts: ${attempts}`;
            if (attempts % 5 === 0) {
                document.getElementById("status").innerText = "You’re trying too hard...";
                playErrorSound();
            }
        }

        // Play error sound
        function playErrorSound() {
            const sound = document.getElementById("annoyingSound");
            sound.currentTime = 0;
            sound.play();
        }

        // Submit answer with traps
        function submitTrap() {
            playErrorSound();
            updateCounter();
            const input = document.getElementById("answerInput").value.trim();
            const correct = puzzles[currentPuzzle].a;
            trapLevel++;

            // Randomly mess with input
            if (Math.random() < 0.3) {
                document.getElementById("answerInput").value = input.split("").reverse().join("") + "!";
                document.getElementById("status").innerText = "Oops, your answer flipped!";
                return;
            }

            // Trick logic
            if (input === correct) {
                document.getElementById("status").innerText = "Correct? Haha, NOPE!";
                setTimeout(() => {
                    document.getElementById("status").innerText = `Trick: ${puzzles[currentPuzzle].trick}`;
                    nextPuzzle();
                }, 800);
            } else {
                const traps = [
                    `Wrong! ${puzzles[currentPuzzle].trick}`,
                    `You typed ${input}? That’s adorable!`,
                    `Math is laughing at you!`,
                    `Try again... or don’t.`
                ];
                document.getElementById("status").innerText = traps[Math.floor(Math.random() * 4)];
                if (Math.random() < 0.2) {
                    document.getElementById("puzzle").innerText = puzzles[currentPuzzle].q.split("").reverse().join("");
                }
            }

            // Endgame
            if (trapLevel > 4) {
                document.body.innerHTML = "<h1>MATH TRAP WINS!</h1><p>You’re stuck forever! Close the tab!</p>";
                setTimeout(() => window.location.reload(), 自由

                // Spawn trap text
        setInterval(() => {
            const traps = [
                "1 = 2",
                "e = mc²",
                "0/0 = 42",
                "∞ + 1 = ∞",
                "2 = 2² = 2²²"
            ];
            const div = document.createElement("div");
            div.className = "trap";
            div.innerText = traps[Math.floor(Math.random() * traps.length)];
            div.style.left = Math.random() * window.innerWidth + "px";
            div.style.top = Math.random() * window.innerHeight + "px";
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 2500);
        }, 1200);

        // Sabotage input
        document.getElementById("answerInput").addEventListener("input", (e) => {
            if (Math.random() < 0.25) {
                const sabotage = ["NaN", "∞", "ERROR", "π"];
                e.target.value = sabotage[Math.floor(Math.random() * 4)];
                playErrorSound();
            }
        });

        // Button swap trick
        document.getElementById("submitBtn").addEventListener("mouseover", () => {
            if (Math.random() < 0.3) {
                const submit = document.getElementById("submitBtn");
                const reset = document.getElementById("resetBtn");
                const temp = submit.innerText;
                submit.innerText = reset.innerText;
                reset.innerText = temp;
            }
        });

        // Prevent shortcuts
        document.addEventListener("keydown", (e) => {
            if (e.ctrlKey || e.altKey || e.key === "Escape" || e.key === "F12") {
                e.preventDefault();
                alert("Math traps don’t allow shortcuts!");
                playErrorSound();
            }
        });

        // Prevent right-click
        document.addEventListener("contextmenu", (e) => {
            e.preventDefault();
            alert("Right-click? Math says NO!");
            playErrorSound();
        });

        // Trick on page leave
        window.onbeforeunload = () => "The matrix won’t let you go!";
    </script>
</body>
</html>
